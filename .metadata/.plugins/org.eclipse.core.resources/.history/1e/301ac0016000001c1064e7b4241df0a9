package com.seleniun.framework.pages;

import static org.testng.Assert.assertNotNull;
import static org.testng.Assert.assertTrue;
import org.apache.log4j.Logger;
import org.openqa.selenium.By;
import org.openqa.selenium.WebElement;

import com.selenium.framework.libraries.seleniumBase;
import com.selenium.framework.libraries.seleniumLibrary;

public class HomePageAuthentication2 extends seleniumBase{
	
	final static Logger logger = Logger.getLogger(HomePageAuthentication2.class);
	seleniumLibrary library = new seleniumLibrary();

	public HomePageAuthentication2 () {
		logger.info("Step 5 : creating modified default constructor || waiting for HTML 2 Page loading by wait visibility of entering email address field" );
		WebElement enterEmailAddressField = library.dynamicWaitForVisibilityOfElement(By.cssSelector("#email_create"));
		assertNotNull(enterEmailAddressField,"Email Address Field is not visible-creat account action is penidng");
	}
	
	public void enteringEmailAddressClickingCreatAccount () {
		try {
		logger.info("Step 6 : Entering user Email address || Clicking creat account link " );
		library.entertext(By.cssSelector("#email_create"), "Haytham.Hundy@gmail.com");
		library.clickAnyLink(By.cssSelector("body.authentication.hide-left-column.hide-right-column.lang_en:nth-child(4) div.columns-container div.container div.row:nth-child(3) div.center_column.col-xs-12.col-sm-12 div.row div.col-xs-12.col-sm-6:nth-child(1) form.box div.form_content.clearfix div.submit:nth-child(4) button.btn.btn-default.button.button-medium.exclusive:nth-child(2) > span:nth-child(1)"));
		Thread.sleep(1, 1000);
		}catch (Exception e) {
			logger.error("Error: ", e );
			assertTrue(false); 
		    }
	}
	
		public CreateAnAccountPage waitingForNextPageVisibility () {
			try {
		logger.info("Step 7 : diverting to HTML 3 || Waiting Visibilty HTML Page 3  " );		
		library.dynamicWaitForVisibilityOfElement(By.cssSelector("#customer_firstname"));
		}catch (Exception e) {
		logger.error("Error: ", e );
		assertTrue(false); 
	    }
			return new CreateAnAccountPage();
	}
		
}	
